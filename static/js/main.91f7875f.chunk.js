(this["webpackJsonprepayment-simulator-stellar"]=this["webpackJsonprepayment-simulator-stellar"]||[]).push([[0],{179:function(e,t,n){},180:function(e,t,n){},202:function(e,t){},203:function(e,t){},396:function(e,t){},398:function(e,t){},432:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),s=n(173),c=n.n(s),o=(n(179),n(180),n(14)),i=n(2),u=function(e){var t=e.hidden,n=e.alertMessage,a=e.transactionSuccessful;return Object(i.jsx)("div",{children:Object(i.jsx)("p",{hidden:t,className:1==a?"text-green-600 bg-green-100 rounded":"text-red-600 bg-red-100 rounded",children:n})})},l=n(182),d=n(174),b=function(e){var t=Object(a.useState)(Number),n=Object(o.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(Number),b=Object(o.a)(c,2),f=b[0],m=b[1],j=Object(a.useState)(999999),p=Object(o.a)(j,2),h=p[0],g=p[1],x=Object(a.useState)(Number),O=Object(o.a)(x,2),v=O[0],y=O[1],w=Object(a.useState)(Number),N=Object(o.a)(w,2),S=N[0],T=N[1],E=Object(a.useState)(Number),k=Object(o.a)(E,2),K=k[0],F=k[1],A=Object(a.useState)(null),P=Object(o.a)(A,2),B=P[0],C=P[1],M=Object(a.useState)("invisible"),L=Object(o.a)(M,2),D=L[0],G=L[1],I=Object(a.useState)(""),Y=Object(o.a)(I,2),J=Y[0],R=Y[1],U=Object(a.useState)(!0),X=Object(o.a)(U,2),_=X[0],q=X[1],z=Object(a.useState)(!0),Q=Object(o.a)(z,2),W=Q[0],Z=Q[1],H=Object(a.useState)(""),V=Object(o.a)(H,2),$=V[0],ee=V[1];return Object(a.useEffect)((function(){!0===B?(G(!1),R("Transaction Succesful")):!1===B&&(G(!1),R("Transaction Failed"))}),[B]),Object(a.useEffect)((function(){m(function(e){var t=.08/12;return Number(e*(t*Math.pow(t+1,60))/(Math.pow(t+1,60)-1))}(r))}),[r]),Object(a.useEffect)((function(){y(function(e,t){return Number(60*t)}(0,f))}),[r,f]),Object(a.useEffect)((function(){T(function(e,t,n){return Number(t*(100*(n-e)/n/100)*.02)}(r,h,v))}),[r,h,v,S]),Object(a.useEffect)((function(){F(function(e,t,n){var a=t-e;return Number(void 0!=a&&void 0!=n&&a<n?a:n)}(f,h,S))}),[f,h,S]),Object(a.useEffect)((function(){f<=h?Z(!0):f>h&&Z(!1)}),[f,h]),Object(i.jsx)("div",{className:"overflow-x-hidden overflow-y-hidden ",children:Object(i.jsxs)("div",{className:"bg-white rounded-lg shadow sm:max-w-md sm:w-full sm:mx-auto sm:overflow-hidden md:my-10 ",children:[Object(i.jsxs)("div",{className:"px-4 py-8 sm:px-10",children:[Object(i.jsxs)("div",{className:"relative mt-6",children:[Object(i.jsx)("div",{className:"absolute inset-0 flex items-center",children:Object(i.jsx)("div",{className:"w-full border-t border-gray-300"})}),Object(i.jsx)("div",{className:"relative flex justify-center text-sm leading-5",children:Object(i.jsx)("span",{className:"px-2 text-gray-500 bg-white",children:"Loan Repayment Simulator"})})]}),Object(i.jsx)("div",{className:"mt-6",children:Object(i.jsxs)("div",{className:"w-full space-y-6",children:[Object(i.jsx)("div",{className:"w-full",children:Object(i.jsx)("div",{className:" relative ",children:Object(i.jsx)("input",{type:"number",id:"loan-amount",onChange:function(e){s(Number(e.target.value))},className:"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Loan amount"})})}),Object(i.jsx)("div",{className:"w-full",children:Object(i.jsxs)("div",{className:" relative ",children:[Object(i.jsx)("input",{type:"text",id:"repayment-amount",onChange:function(e){g(Number(e.target.value))},className:h>f?"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ":"rounded-lg border-transparent flex-1 appearance-none border border-red-500 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ",placeholder:"Repayment amount"}),Object(i.jsx)("p",{className:"text-red-500",hidden:W,children:"You have to make equal or more than the minimum repayment"})]})}),Object(i.jsx)("div",{className:"w-full",children:Object(i.jsxs)("div",{className:" relative ",children:[Object(i.jsxs)("label",{forhtml:"private-key",className:"relative text-gray-400 focus-within:text-gray-600 block",children:[Object(i.jsx)(d.a,{className:"pointer-events-none w-4 h-4 absolute top-1/2 transform -translate-y-1/2 left-3"}),Object(i.jsx)("input",{name:"private-key",type:"text",id:"private-key",onChange:function(e){56===e.target.value.length&&0===e.target.value.indexOf("S")?(ee(e.target.value),q(!1)):(q(!0),ee(!1))},className:" rounded-lg border-transparent border border-gray-300 bg-white placeholder-gray-400 text-gray-700 appearance-none w-full block pl-14 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Stellar Private Key"})]}),0==$?Object(i.jsx)("div",{className:"text-gray-500 mt-2",children:"Enter valid Private Key to be able to submit transaction"}):""]})}),Object(i.jsx)("div",{children:Object(i.jsx)("span",{className:"block w-full rounded-md shadow-sm",children:Object(i.jsx)("button",{type:"button",id:"submit-transaction",hidden:_,onClick:function(e){e.preventDefault(),function(e,t,n,a){var r=new l.Server("https://horizon-testnet.stellar.org"),s=l.Keypair.fromSecret("SA3R3BAGXSXOKUKFGKTYP2GONMTPPGEFBYLFMAAM5LI33ZKYDQ7TIPJC"),c=l.Keypair.fromSecret(e),o=new l.Asset("WNT",s.publicKey()),i=new l.Asset("AUD",s.publicKey());r.loadAccount(c.publicKey()).then((function(e){var t=new l.TransactionBuilder(e,{fee:l.BASE_FEE,networkPassphrase:l.Networks.TESTNET}).addOperation(l.Operation.changeTrust({asset:o})).addOperation(l.Operation.changeTrust({asset:i})).setTimeout(100).build();return t.sign(c),r.submitTransaction(t)})).then(console.log()).then((function(){return r.loadAccount(s.publicKey())})).then((function(e){var a=new l.TransactionBuilder(e,{fee:l.BASE_FEE,networkPassphrase:l.Networks.TESTNET}).addOperation(l.Operation.payment({destination:c.publicKey(),asset:o,amount:t.toFixed(2)})).addOperation(l.Operation.payment({destination:c.publicKey(),asset:i,amount:n.toFixed(2)})).setTimeout(100).build();return a.sign(s),r.submitTransaction(a)})).then((function(){return a(!0)}),(function(){return a(!1)})).catch((function(e){console.error("Error!",e)}))}($,K,S,C)},className:"py-2 px-4  bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 focus:ring-offset-indigo-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-lg ",children:"Submit Transaction"})})})]})})]}),Object(i.jsx)("div",{className:"px-4 py-6 border-t-2 border-gray-200 bg-gray-50 sm:px-10",children:Object(i.jsx)(u,{transactionSuccessful:B,hidden:D,alertMessage:J})})]})})};var f=function(){return Object(i.jsx)("div",{className:"w-screen h-screen",children:Object(i.jsx)(b,{})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,433)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(f,{})}),document.getElementById("root")),m()}},[[432,1,2]]]);
//# sourceMappingURL=main.91f7875f.chunk.js.map