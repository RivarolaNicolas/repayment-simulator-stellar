(this["webpackJsonprepayment-simulator-stellar"]=this["webpackJsonprepayment-simulator-stellar"]||[]).push([[0],{179:function(e,t,n){},180:function(e,t,n){},202:function(e,t){},203:function(e,t){},396:function(e,t){},398:function(e,t){},432:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),s=n(173),c=n.n(s),i=(n(179),n(180),n(14)),o=n(1),u=function(e){var t=e.hidden,n=e.alertMessage,a=e.transactionSuccessful;return Object(o.jsx)("div",{children:Object(o.jsx)("p",{hidden:t,className:1==a?"text-green-600 bg-green-100 rounded":"text-red-600 bg-red-100 rounded",children:n})})},l=n(182),d=n(174),b=function(e){var t=Object(a.useState)(Number),n=Object(i.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(Number),b=Object(i.a)(c,2),m=b[0],f=b[1],j=Object(a.useState)(Number),p=Object(i.a)(j,2),h=p[0],x=p[1],g=Object(a.useState)(Number),O=Object(i.a)(g,2),y=O[0],v=O[1],w=Object(a.useState)(Number),N=Object(i.a)(w,2),S=N[0],T=N[1],E=Object(a.useState)(Number),k=Object(i.a)(E,2),F=k[0],K=k[1],A=Object(a.useState)(null),P=Object(i.a)(A,2),C=P[0],B=P[1],M=Object(a.useState)("invisible"),L=Object(i.a)(M,2),D=L[0],G=L[1],I=Object(a.useState)(""),J=Object(i.a)(I,2),Y=J[0],R=J[1],U=Object(a.useState)(!0),X=Object(i.a)(U,2),_=X[0],z=X[1],Q=Object(a.useState)(!0),W=Object(i.a)(Q,2),Z=(W[0],W[1]),q=Object(a.useState)(""),H=Object(i.a)(q,2),V=H[0],$=H[1];return Object(a.useEffect)((function(){!0===C?(G(!1),R("Transaction Succesful")):!1===C&&(G(!1),R("Transaction Failed"))}),[C]),Object(a.useEffect)((function(){f(function(e){var t=.08/12;return Number(e*(t*Math.pow(t+1,60))/(Math.pow(t+1,60)-1))}(r))}),[r]),Object(a.useEffect)((function(){v(function(e,t){return Number(60*t)}(0,m))}),[r,m]),Object(a.useEffect)((function(){T(function(e,t,n){return Number(t*(100*(n-e)/n/100)*.02)}(r,h,y))}),[r,h,y,S]),Object(a.useEffect)((function(){K(function(e,t,n){var a=t-e;return Number(void 0!=a&&void 0!=n&&a<n?a:n)}(m,h,S))}),[m,h,S]),Object(a.useEffect)((function(){m<=h?Z(!0):m>h&&Z(!1)}),[m,h]),Object(o.jsx)("div",{className:"overflow-x-hidden overflow-y-hidden ",children:Object(o.jsxs)("div",{className:"bg-white rounded-lg shadow sm:max-w-md sm:w-full sm:mx-auto sm:overflow-hidden md:my-10 ",children:[Object(o.jsxs)("div",{className:"px-4 py-8 sm:px-10",children:[Object(o.jsx)("div",{className:"flex justify-center",children:Object(o.jsx)("span",{className:"text-gray-500 bg-white",children:"The loan is for 5 years, with an 8% annual interest"})}),Object(o.jsxs)("div",{className:"relative mt-6",children:[Object(o.jsx)("div",{className:"absolute inset-0 flex items-center",children:Object(o.jsx)("div",{className:"w-full border-t border-gray-300"})}),Object(o.jsx)("div",{className:"relative flex justify-center text-sm leading-5",children:Object(o.jsx)("span",{className:"px-2 text-gray-500 bg-white",children:"Loan Repayment Simulator"})})]}),Object(o.jsx)("div",{className:"mt-6",children:Object(o.jsxs)("div",{className:"w-full space-y-6",children:[Object(o.jsx)("div",{className:"w-full",children:Object(o.jsx)("div",{className:" relative ",children:Object(o.jsx)("input",{type:"number",id:"loan-amount",onChange:function(e){s(Number(e.target.value))},className:"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Loan amount"})})}),Object(o.jsx)("div",{className:"w-full",children:Object(o.jsxs)("div",{className:" relative ",children:[Object(o.jsx)("input",{type:"text",name:"repayment-amount",id:"repayment-amount",onChange:function(e){x(e.target.value)},value:h,className:h>=m?"rounded-lg border-transparent flex-1 appearance-none border border-gray-300 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent ":"rounded-lg border-transparent flex-1 appearance-none border border-red-500 w-full py-2 px-4 bg-white text-gray-700 placeholder-gray-400 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent "}),Object(o.jsxs)("p",{className:"text-gray-500 mt-2",children:["The minimum repayment amount is ",Object(o.jsx)("button",{name:"set-minimum-repayment-autofill",id:"set-minimum-repayment",className:"border-b border-gray-700",onClick:function(){return x(m)},children:m.toFixed(2)})]})]})}),Object(o.jsx)("div",{className:"w-full",children:Object(o.jsxs)("div",{className:" relative ",children:[Object(o.jsxs)("label",{forhtml:"private-key",className:"relative text-gray-400 focus-within:text-gray-600 block",children:[Object(o.jsx)(d.a,{className:"pointer-events-none w-4 h-4 absolute top-1/2 transform -translate-y-1/2 left-3"}),Object(o.jsx)("input",{name:"private-key",type:"text",id:"private-key",onChange:function(e){56===e.target.value.length&&0===e.target.value.indexOf("S")?($(e.target.value),z(!1)):(z(!0),$(!1))},className:" rounded-lg border-transparent border border-gray-300 bg-white placeholder-gray-400 text-gray-700 appearance-none w-full block pl-14 shadow-sm text-base focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent",placeholder:"Stellar Private Key"})]}),0==V?Object(o.jsx)("div",{className:"text-gray-500 mt-2",children:"Enter valid Private Key to be able to submit transaction"}):""]})}),Object(o.jsx)("div",{children:Object(o.jsx)("span",{className:"block w-full rounded-md shadow-sm",children:Object(o.jsx)("button",{type:"button",id:"submit-transaction",hidden:_,onClick:function(e){e.preventDefault(),function(e,t,n,a){var r=new l.Server("https://horizon-testnet.stellar.org"),s=l.Keypair.fromSecret("SA3R3BAGXSXOKUKFGKTYP2GONMTPPGEFBYLFMAAM5LI33ZKYDQ7TIPJC"),c=l.Keypair.fromSecret(e),i=new l.Asset("WNT",s.publicKey()),o=new l.Asset("AUD",s.publicKey());r.loadAccount(c.publicKey()).then((function(e){var t=new l.TransactionBuilder(e,{fee:l.BASE_FEE,networkPassphrase:l.Networks.TESTNET}).addOperation(l.Operation.changeTrust({asset:i})).addOperation(l.Operation.changeTrust({asset:o})).setTimeout(100).build();return t.sign(c),r.submitTransaction(t)})).then(console.log()).then((function(){return r.loadAccount(s.publicKey())})).then((function(e){var a=new l.TransactionBuilder(e,{fee:l.BASE_FEE,networkPassphrase:l.Networks.TESTNET}).addOperation(l.Operation.payment({destination:c.publicKey(),asset:o,amount:n.toFixed(2)})).addOperation(l.Operation.payment({destination:c.publicKey(),asset:i,amount:0!=t.toFixed(2)?t.toFixed(2):"0.01"})).setTimeout(100).build();return a.sign(s),r.submitTransaction(a)})).then((function(){return a(!0)}),(function(){return a(!1)})).catch((function(e){console.error("Error!",e)}))}(V,F,S,B)},className:"py-2 px-4  bg-indigo-600 hover:bg-indigo-700 focus:ring-indigo-500 focus:ring-offset-indigo-200 text-white w-full transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2  rounded-lg ",children:"Submit Transaction"})})})]})})]}),Object(o.jsx)("div",{className:"px-4 py-6 border-t-2 border-gray-200 bg-gray-50 sm:px-10",children:Object(o.jsx)(u,{transactionSuccessful:C,hidden:D,alertMessage:Y})})]})})};var m=function(){return Object(o.jsx)("div",{className:"w-screen h-screen",children:Object(o.jsx)(b,{})})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,433)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(m,{})}),document.getElementById("root")),f()}},[[432,1,2]]]);
//# sourceMappingURL=main.69de8c98.chunk.js.map